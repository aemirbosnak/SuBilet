<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://fonts.googleapis.com/css?family=Roboto"
      rel="stylesheet"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="{{ url_for('static', filename='css/travelerRegister.css') }}"
    />
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>

    <style>

        .box {
            border: 1px solid black;
            padding: 0.5vw;
            text-align: center;
            background-color: #359CDA;
            cursor: pointer;
        }

        .box.selected {
            background-color: red;
        }

        .empty-box {
            width: 1.5vw;
            height: 3vw;
            background-color: transparent;
        }
    </style>

    <script>
        function selectBox(boxNumber) {
            const selectedBox = document.getElementById('box' + boxNumber);
            const boxes = document.querySelectorAll('.box');

            boxes.forEach(otherBox => {
                otherBox.classList.remove('selected');
            });

            selectedBox.classList.add('selected');
        }
    </script>


    <title>ŞuBilet|Register</title>
  </head>
  <body>
    <nav class="navbar navbar-expand-lg navbar-dark customNavbar">
      <div class="container">
        <a class="navbar-brand" href="{{ url_for('main') }}"><h2>ŞuBilet.com</h2></a>
      </div>
    </nav>



  <div class="container">
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card" id=1>
          <div class="card-body">
            <h5 class="card-title">Centered Card</h5>
            <p class="card-text">This card is centered on the page.</p>
            <a href="{{ url_for('test', id=1)}}" class="btn btn-primary">Send GET Request1</a>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card" id="2">
          <div class="card-body">
            <h5 class="card-title">Centered Card</h5>
            <p class="card-text">This card is centered on the page.</p>
            <a href="{{ url_for('test', id=2)}}" class="btn btn-primary">Send GET Request2</a>
          </div>
        </div>
      </div>
    </div>
    <div class="row justify-content-center">
      <div class="col-md-6">
        <div class="card" id="3">
          <div class="card-body">
            <h5 class="card-title">Centered Card</h5>
            <p class="card-text">This card is centered on the page.</p>
            <a href="{{ url_for('test', id=3)}}" class="btn btn-primary">Send GET Request3</a>
          </div>
        </div>
      </div>
    </div>
  </div>








<!--
    <div class="d-flex justify-content-center align-items-center vh-100">
      <div class="card" style="width: 800px;">
        <div class="card-body">
          <h5 class="card-title">Card Title</h5>
          <p class="card-text">Card content goes here.</p>
            <div class="dropdown">
                <button
                    class="btn btn-secondary dropdown-toggle"
                    type="button"
                    id="dropdownMenuButton"
                    data-bs-toggle="dropdown"
                    aria-haspopup="true"
                    aria-expanded="false"
                    onclick="openDropdown()"
                  >
                    Dropdown button
                  </button>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <div class="container">
                        {% for row in range(row) %}
                            <div class="row">
                                {% set i = {'offset': 0} %}
                                {% for col in formation %}
                                    {% for j in range(col) %}
                                        <div class="col col-md-offset-1">
                                        {% set box_number = row * tot_col + i.offset + j + 1 %}
                                        {% if box_number in occupied %}
                                            <div class="box" style="background-color: gray;">{{box_number}}</div>
                                        {% else %}
                                            <div class="box" id="box{{box_number}}" onclick="selectBox({{ box_number }})">{{ box_number }}</div>
                                        {% endif %}
                                        </div>
                                    {% endfor %}
                                    <div class="empty-box"></div>
                                    <br>
                                    {% set _ = i.update({'offset': i.offset + col}) %}
                                {% endfor %}
                            </div>
                         {% endfor %}
                    </div>
                </div>
            </div>
        </div>
      </div>
    </div>

    <script>
      function openDropdown() {
        var dropdownElement = document.querySelector('.dropdown');
        var dropdownMenu = dropdownElement.querySelector('.dropdown-menu');

        if (!dropdownElement.classList.contains('show')) {
          dropdownElement.classList.add('show');
          dropdownMenu.setAttribute('aria-expanded', 'true');
        } else {
          dropdownElement.classList.remove('show');
          dropdownMenu.setAttribute('aria-expanded', 'false');
        }
      }

        const dropdownMenu = document.querySelector('.dropdown-menu');
        dropdownMenu.addEventListener('click', function(event) {
            event.stopPropagation();
        });
    </script> -->

    <div class="container">
        {% for row in range(row) %}
            <div class="row">
            {% set i = {'offset': 0} %}
            {% for col in formation %}
                {% for j in range(col) %}
                    <div class="col col-md-offset-1">
                    {% set box_number = row * tot_col + i.offset + j + 1 %}
                    {% if box_number in occupied %}
                        <div class="box" style="background-color: gray;">{{box_number}}</div>
                    {% else %}
                        <div class="box" id="box{{box_number}}" onclick="selectBox({{ box_number }})">{{ box_number }}</div>
                    {% endif %}
                    </div>
                {% endfor %}
                <div class="empty-box"></div>
                <br>
                {% set _ = i.update({'offset': i.offset + col}) %}
            {% endfor %}
            </div>
        {% endfor %}
    </div>
  </body>
</html>
